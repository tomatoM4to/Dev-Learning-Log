# 악성 소프트웨어의 정의
* 피해자의 데이터, 애플레케이션(프로그램), 또는 운영체제의 기밀성, 무결성, 혹은 가용성을 손상시키거나, 또는 피해자를 괴롭히거나 방해할 의도로 은밀하게 시스템에 삽입된 "프로그램"
    * 기밀성:
    * 무결성
    * 가용성

***

# 용어
* APT: 지능적으로 장기간에 걸쳐 특정 대상 or 조직에게 효율적으로 공격, 상업적이고 정치적인 목적을 가진 사이버 조직에 의해 발행한다. (러시아의 사이버 공격)
* Adware: 광고, 팝업 광고를 불법적으로 하는것, 뉴스 사이트에 방문했는데 자동으로 상업 사이트로 전환해 불법적으로 광고에 노출시키는 것
* Attack kit(공격 도구): 악성 S/W를 자동으로 생성하기 위해 사용하는 해커 도구의 모음
* Auto-rooter: 새로운 시스템에 원격으로 침투하는데 쓰이는 악성 해커 도구 보통 시스템 관리자의 password를 공격, Attack kit의 종류중 하나
* Backdoor(trapdoor): 정상적인 보안절차를 건너뛰는 기법, 시스템을 로그인 없이(인증 없이) 바로 접속해 사용
* Downloaders: 악성 S/W를 다운로드 하는 프로그램, 보통 최초 침임에 성공한 악성 S/W에 포함되어 있다. 이후 대량의 악성 S/W 패키지를 다운받는데 사용한다.
* Drive-By-Download: 다운로드를 하는것이지만, 공격자가 다운로드 하는것이 아닌 피해자가 다운로드 하도록 유도, 감염된 웹사이트를 방문하면 그 웹사이트에 심어져 있는 악성 코드가 브라우저의 취약점을 이용하여 클라이언트 시스템을 공격하는 방식, 피해자의 실수를 유도하는 수동적인 공격 방법
* Exploits: 사용하는 시스템들의 취약점들을 노리는 악성코드의 집합
* Flooders(Dos client): 공격하는 시스템에 대량의 데이터를 발생(타켓 시스템에 패킷을 엄청나게 많이 보내는것), 즉 req를 처리하느라 정상적인 서비스를 처리하지 못하게 되는 Dos 공격 형태를 수행하는 악성 코드, 가용성에 관한 공격(사용자가 필요할때 사용하지 못하기 때문)
* Keyloggers(키보드 로깅): 감염된 시스템의 키보드 입력을 기록/수집하는 악성 코드
* Logic bomb: 사전에 정의된 특정 조건에 만족될때까지 잠복하고 있다가, 조건이 만족되면 불법적인 행동을 개시하는 악성 코드
* Macro virus: 한글, word, 에셀 같은 문서에 포함된 매크로나 스크립팅 코드를 사용하는 바이러스, 문서를 열거나 편집할 때 자동으로 실행됨
* Mobile code(이동할 수 있는 코드): 컴퓨터 시스템이 다른 컴퓨터 시스템에 이식이 되더라도 컴파일 없이 바로 실행이 되는 특징을 이용해 제작된 악성 S/W
* Rootkit: 공격자가 관리자 접근 권한을 획득한 이후에도 장기적으로 피해를 주기 위해 사용되는 해커 도구들의 모음
* Spammer Programs: 대량의 스팸전자 메일을 보내는데 사용되는 악성코드
* Spyware: 감염된 시스템의 키보드 입력, 화면 캡쳐, 네트워크 트래픽 등을 수집해 다른 시스템에 전송하는 악성 코드
* 트로이 목마: 겉으로는 유용한 기능을 가진것처럼 보이지만 보안 메커니즘을 회피하는 숨겨진 잠재 악성 기능을 가진 프로그램.
* 바이러스: 실행 가능한 프로그램이나 스크립트에 자신을 복제하려고 시도하는 악성 S/W, 복제가 성공하면 감염되었다고 말하고, 감염된 코드가 실행될 때 바이러스도 함께 실행
* 웜: 독립적으로 실행되는 프로그램, 공격 대상 시스템의 소프트웨어 취약점을 이용하여 네트워크 상의 다른 호스트에게 자신의 복사본을 전파할 수 있는 악성 프로그램
* Zombie, bot: 이미 Hack해서 공격당한 시스템이 다른시스템으로 공격을 개시하는 프로그램, 즉 해당 시스템의 자원(S/W, H/W)을 불법적으로 점유하여 다른 시스템을 공격


***

# 악성 소프트웨어 분류
* 2개의 큰 범주로 분류
    * 악성 S/W의 번식(propagation) or 전파 방법을 기준으로 분류, 즉 다른곳에 어떻게 복제해 감염을 시키느냐
    * 악성 S/W가 목표 시스템 접근에 성공한 후 실행하는 악의적인 행동(페이로드)을 기준으로 분류, 파일 삭제, 정보 탈취..
* 기타 분류, 기생하냐 독립적이냐, 스스로를 복제하냐 복제하지 못하냐
    * 어떤식으로 동작하느냐, 바이러스와 같이 호스트 프로그램에 기생해 존재하느냐
    * 독립적으로 실행되느냐, 웜, 트로이 목마, 봇
    * 트로이 목마나 스팸 전자 메일과 같이 자기 자신을 복제하지 못하는 악성 S/W, 다른 시스템을 감염시키지 못하는 S/W들, 한번 공격하면 끝
    * 바이러스나 웜 같이 스스로를 복제할 수 있는 악성 S/W, A라는 시스템이 감염되면 주변 시스템에 전파됨

***

# 악성 소프트웨어 유형
* 악성 S/W 전파(번식) 메커니즘 유형
    * 기존의 실행 파일이나 온라인 스크립트를 바이러스에 감염시켜 or 기생해 다른 시스템들로 널리 퍼지게 하는 방식
    * Worm 혹은 Drive-by-Download 등과 같이 소프트웨어 취약점을 이용해서 악성 S/W를 증식시키는 방식
        * 유닉스의 버퍼 오버플로우 취약점 이용
    * 사회공학적 공격

* 악성 S/W가 목표 시스템 접근에 성공한 후(감염 성공한 후) 실행되는 페이로드 액션 유형
    * 시스템 혹은 시스템에 있는 데이터 파일의 파괴
    * 시스템을 bot or zombie를 만들어 공격의 대리인으로 활용하는 등 시스템 서비스를 갈취
    * 키 로깅을 통해 로그인 ID나 패스워드 등 시스템 정보 갈취
    * 악성 S/W 가 자신의 존재를 숨기기 위해 시스템의 탐지 기능을 무력화
        * 예를들어 유닉스 같은 경우 PS 명령어를 이용하면 형재 실행중인 프로세스를 볼수 있는데, 이럴때 음폐기능이 있는 S/W는 PS명령가 실행하는것이 아닌 자신이 조작한 명령어를 실행해 자기 자신을 빼고 정상적인 프로세스들만 보여주는 프로그램이 있다.


***

# 공격 킷(Attack kit)
* 초기엔 악성 S/W를 만들고 배포하려면 상당한 기술 수준이 요구되었지만, 90년대 초 바이러스 생성 도구 킷, 2000년대에는 일반 공격 킷의 개발로 인해 악성 S/W의 개발 및 보급이 용이해짐
* 도구 킷은 "crimeware"로 불린다
* 다양한 전파(번식) 방법과 페이로드 모듈을 포함하고 있어 초보자라도 새로운 바이러스를 쉽게 결합/선택/보급할 수 있다.
* 해커들이 도구 킷을 사용하여 만든 다양한 변종들은 덜 정교할지라도, 방어 시스템은 새로운 변종 공격 방법을 방어하는데 상당한 어려움을 겪고 있음

***

# 공격 소스(Attack Sources) -> 누가 공격하느냐, 해커가 누구냐에 대한 예기
* 20년전 해커는 그저 자신의 이익보단 그저 자신의 기술력을 자랑하고자 하는 사람이 많았기에 해커들에 대한 인식도 그렇게 나쁘지 않았따.
* 최근들어 정치적인 목적, 범죄자, 범죄 조직, 국가 후원을 통한 사이버 테러 등 악성 S/W의 상승에 대한 동기와 이용 가능한 자원들을 급격히 변화됐다. 공격키트 판매, 감염된 호스트 접근, 훔친 정보 등을 포함한 대규모 지하경제 등의 발전 같은 변화

***

# APT
* 보통 국가 후원 조직, 대규모 범죄 집단에 의해 이루어 진다.
* 다양한 침입 기술과 악성 S/W를 사용하여 선정된 공격 목표(보통 상업적 혹은 정치작) 에 잘 준비된 공격을 지속적으로 가하는것
* 다른 유형의 공격방식과 차이점은 공격 목표를 주의 깊게 선정하고, 장기간에 걸쳐 은밀하고 지속적인 침입을 한다는 것

## APT의 특징

## APT 공격
* 목표: 지적 재산, 혹은 보안 및 기반시설 관련 데이터의 절도부터 기반 시설의 물리적인 파괴까지 다양
* 사용 기술
    * 사회공학
    * Spear-phishing email: 공격 시설 직원의 신상을 파악해 사회공학적인 email을 보내 해킹 유도
    * 공격 목표 조직의 직원들이 방문할 가능성이 있는 감염된 웹사이트에서의 Drive-bydownloads
* 목적
    * 다양한 전파 방식과 payload를 장착한 정교하고 복잡한 악성 S/W로 공격 목표를 감염시키는 것이 목적임
    * 일단 공격 목표 조직의 시스템에 대한 초기 접근이 이루어지면, 공격 목표 시스템에 대한 접근을 유지하고 확대하기 위해 성능이 좋은 다양한 공격 도구들을 사용함

***

# 바이러스
* 프로그램을 감염시키는 소프트웨어 조각, 즉 프로그램
    * 자신의 복제코드를 실행 가능한 프로그램이나 콘텐츠에 몰래 삽입
    * 감염된 컴퓨터가 감염되지 않은 컴퓨터와 접속하면 새로운 바이러스의 복사본이 새로운 컴퓨터로 전달됨
        * 디스크나 USB저장 매체를 통해 복사하거나, 네트워크를 통해 쉽게 널리 퍼짐
* 실행 프로그램에 바이러스가 침투되면, 바이러스는 프로그램이 인가 받은 어떤 작업이라도 수행할 수 있음
    * 바이러스 코드는 감염된 호스트 프로그램이 실행될 때 동시에 몰래 실행 됨
* 바이러스는 특정 운영 체제와 하드웨어에 특화됨
    * 운영체제와 하드웨어의 세부 사항과 약점을 이용

## 바이러스의 구성요소
* 감염 메커니즘(감염 코드)
* 트리거(작동 코드)
* 페이로드(공격 코드)

## 바이러스 생애 4단계
1. 휴지 단계
    * 바이러스가 쉬고 있는 단계
    * 특정 이벤트 혹은 조건에 의해 활성화 (특정 날짜, 특정 프로그램이나 파일의 존재, 디스크 사용량이 어느 선을 넘었을때 등)
    * 이 단게가 없는 바이러스도 존재
2. 트리거 단계
    * 바이러스가 의도한 기능을 수행하기 위해 활성화 되는 단계
    * 다양한 시스템의 이벤트 발생에 의해 유발될 수 있음(자신을 복제한 횟수에 따라 유발하는 등)
3. 전파 혹은 번식 단계
    * 바이러스가 자신의 복제본을 다른 프로그램이나 디스크의 시스템